@media -moz-pref("safari.overflow.menu") {
    #widget-overflow-list > .toolbarbutton-1,
    #widget-overflow-fixed-list > .toolbarbutton-1,
    #widget-overflow-fixed-list > .toolbaritem-combined-buttons,
    #widget-overflow-fixed-list > toolbarpaletteitem{
        width: 60.6px !important;
        height: 24px !important;
        max-width: none !important;
        max-height: none !important;
        padding: 0 !important;
        margin: 0 !important;
    }
    @-moz-document url("chrome://browser/content/browser.xhtml") {
    /* ================================
        Overflow container - vertical layout
        ================================ */
    #widget-overflow-list,
    #widget-overflow-fixed-list {
        display: flex !important;
        flex-direction: column !important;  /* vertical stacking */
        align-items: stretch !important;
        row-gap: 6px !important;            /* spacing between buttons */
        position: relative !important;
        padding: 0 !important;
    }

    /* ================================
        Each toolbarbutton spans the full row
        ================================ */
    #widget-overflow-list > toolbarbutton,
    #widget-overflow-fixed-list > toolbarbutton {
        grid-column: 1 / -1 !important;
        display: flex !important;
        align-items: center !important;
        justify-content: flex-start !important;
        width: 100% !important;              /* full width */
        min-width: 100px !important;         /* prevent cutoff */
        height: auto !important;
        padding: 6px 14px !important;
        margin: 0 !important;
        box-sizing: border-box !important;
        border-radius: 4px !important;
        position: relative !important;
        overflow: hidden !important;
        -moz-appearance: none !important;
        appearance: none !important;
    }

    /* ================================
        Hide icons and badges
        ================================ */
    #widget-overflow-list > toolbarbutton .toolbarbutton-icon,
    #widget-overflow-fixed-list > toolbarbutton .toolbarbutton-icon,
    #widget-overflow-list > toolbarbutton .toolbarbutton-badge-stack,
    #widget-overflow-fixed-list > toolbarbutton .toolbarbutton-badge-stack {
        display: none !important;
        height: 0 !important;
    }

    /* ================================
        Custom labels via ::before
        ================================ */
    #widget-overflow-list > toolbarbutton::before,
    #widget-overflow-fixed-list > toolbarbutton::before {
        content: attr(label) !important;
        display: block !important;
        font-size: 13px !important;
        line-height: 1.3 !important;
        color: var(--toolbar-color, black) !important;
        text-align: left !important;
        padding-left: 10px !important;
        padding-right: 10px !important;
    }


    /* Manual label overrides (if needed) */
    #new-tab-button::before { content: "New Tab" !important; }
    #firefox-view-button::before { content: "Firefox View" !important; }

    /* ================================
        Hover effect
        ================================ */
    #widget-overflow-list > toolbarbutton:hover,
    #widget-overflow-fixed-list > toolbarbutton:hover {
        background-color: Accentcolor !important;
        color: AccentTextColor !important;
        transition: none !important;
    }
        #widget-overflow-list > toolbarbutton,
    #widget-overflow-fixed-list > toolbarbutton {
        transition: none !important;
    }

    /* ================================
        Separators behind buttons
        ================================ */
    #widget-overflow-list::after,
    #widget-overflow-fixed-list::after {
        content: "" !important;
        display: block !important;
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        bottom: 0 !important;
        pointer-events: none !important;
        z-index: 0 !important;

        background-image: repeating-linear-gradient(
        to bottom,
        transparent 0px,
        transparent 28px,  /* button height + spacing */
        var(--panel-separator-color, color-mix(in srgb, currentColor 15%, transparent)) 28px,
        var(--panel-separator-color, color-mix(in srgb, currentColor 15%, transparent)) 29px
        ) !important;

        background-repeat: repeat-y !important;
        background-size: calc(100% - 16px) 29px !important;
        background-position: 8px 0 !important;

        /* remove last separator */
        mask-image: linear-gradient(to bottom, black calc(100% - 29px), transparent 100%) !important;
        -webkit-mask-image: linear-gradient(to bottom, black calc(100% - 29px), transparent 100%) !important;
    }
        /* ðŸ”¹ Hide extra stuff */
    #widget-overflow-mainView > toolbarseparator:nth-child(2) { 
        display: none !important; 
    }

    #overflowMenu-customize-button { 
        display: none !important; 
    }


    }
}
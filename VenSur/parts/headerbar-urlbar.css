/* Header bar's URL bar */

@namespace xul "http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul";

/* Badge and buttons on the left */
#identity-box.chromeUI #identity-icon {
	width: 12px !important;
	height: 12px !important;
}

#identity-icon-label {
	font-size: 0.75em !important;
}

#identity-box[pageproxystate="valid"].notSecureText,
#identity-box[pageproxystate="valid"].chromeUI,
#identity-box[pageproxystate="valid"].extensionPage,
#urlbar-label-box {
	margin-block: 6px !important;
}

.notification-anchor-icon:not([open="true"]),
.identity-box-button:not([open="true"]),
#tracking-protection-icon-container:not([open="true"]) {
	opacity: 0.7 !important;
	background-color: transparent !important;
}

.notification-anchor-icon:hover:not([open="true"]),
.identity-box-button:hover:not([open="true"]),
#tracking-protection-icon-container:hover:not([open="true"]) {
	opacity: 1 !important;
	background-color: transparent !important;
}

.notification-anchor-icon:hover:active,
.notification-anchor-icon[open="true"],
.identity-box-button:hover:active,
.identity-box-button[open="true"],
#notification-popup-box:hover:active,
#notification-popup-box[open],
#tracking-protection-icon-container:hover:active,
#tracking-protection-icon-container[open="true"] {
	opacity: 1 !important;
	background-color: transparent !important;
}

#notification-popup-box {
	height: auto !important;
}

#notification-popup-box:hover {
	background-color: transparent !important;
}

/* Buttons to the right */

#urlbar #page-action-buttons {
	filter: saturate(0%) brightness(120%) !important;
}

.urlbar-page-action:not([disabled]),
#urlbar-go-button,
.search-go-button {
	padding: 0 !important;
	opacity: 0.7 !important;
	background-color: transparent !important;
}

.urlbar-page-action:not([disabled]):hover,
#urlbar-go-button:hover,
.search-go-button:hover {
	opacity: 1 !important;
	background-color: transparent !important;
}

.urlbar-page-action:not([disabled])[open],
.urlbar-page-action:not([disabled]):hover:active,
#urlbar-go-button:hover:active,
.search-go-button:hover:active {
	opacity: 1 !important;
	background-color: transparent !important;
}

#urlbar {
	--urlbar-height: 34px !important;
	--urlbar-toolbar-height: 34px !important;
}


#urlbar-search-mode-indicator {
	font-size: 75%;
	margin-block: 5px;
}

/* Centre URL bar text input */

#urlbar-input {
	position: absolute;
	width: 50%;
	height: 100%;
	text-align: center !important;
	transform: translateX(50%);
	transition: opacity 0.35s cubic-bezier(0.4, 0, 0.2, 1), transform 0.3s cubic-bezier(0, 0.7, 0.3, 1);
}

/* Unless text input is selected like safari*/
#urlbar[focused]{
	top: 10px !important;
}
/* Url bar positions */

#urlbar{
	position: relative !important;
	top: 10px !important;
}
/* in customize menu */
#wrapper-urlbar-container{
	position: relative;
	bottom: 10px !important;
}
#urlbar[focused] #urlbar-input {
	transform: translateX(0);
	width: 100%;
	text-align: left !important;
}

/* Center the URL bar */

toolbarspring {
	max-width: 10000px !important;
}

/* URL bar */

#urlbar-background {
	outline: none !important;
	box-shadow: none !important;
	border: 0 !important;
	background: transparent !important;
	border-radius: var(--macos-toolbar-border-radius) !important;
	animation: none !important;
}

/* Hover animation 
#nav-bar #urlbar .urlbar-input-container:hover {
	transition: background-color 150ms linear !important;
	#urlbar:hover > & {
		background-color: var(--macos-urlbar-focus-background) !important;
	}
}
#nav-bar #urlbar .urlbar-input-container {
	transition: background-color 150ms linear !important;
	#urlbar:hover > & {
		background-color: none !important;
	}
}
*/


#urlbar[breakout][breakout-extend] {
	width: var(--urlbar-width) !important;
	z-index: 5 !important;
	padding: 0 !important;
}

#urlbar[breakout][breakout-extend][open] {
	height: auto !important;
	max-height: unset !important;
}

#urlbar[breakout][breakout-extend] .urlbar-input-container {
	height: 32px !important;
	max-height: 32px !important;
	padding: 0 !important;
}

#urlbar[breakout][breakout-extend][open] #urlbar-background {
	box-shadow: var(--macos-urlbar-box-shadow) !important;
}

#urlbar:not([focused]) > .urlbar-input-container > .urlbar-input-box > #urlbar-input {
	mask-image: linear-gradient(to left, transparent, black 3ch);
}



/* URL Bar search engine chicklet */
#searchmode-switcher-chicklet{
	height: fit-content !important;
  position: relative !important;
  top: 2px !important;
  border-radius: 6px !important;
  width: fit-content !important;
  padding-left: 30px !important;
	right: 34px !important;
	z-index: 0 !important;
}
#searchmode-switcher-close{
	list-style-image: url("chrome://global/skin/icons/close.svg") !important;
	scale: 0.8 !important;
}
#urlbar-searchmode-switcher{
  z-index: 1 !important;
	scale: 0.9 !important;
	position: relative;
	right: 4px !important;
}
/* URL bar results */

.urlbarView {
	position: relative;
	top: 2px !important;
	width: 100% !important;
	padding: 4px !important;
	margin: 0 !important;
	border-radius: var(--macos-menu-border-radius) !important;
	background-color: var(--arrowpanel-background) !important;
	border: var(--macos-menu-border) !important;
	outline: var(--macos-menu-outline) !important;
	box-shadow: 0 0 15px #00000040 !important;
	color: MenuText !important;
}

.urlbarView-row-inner,
.urlbarView-row,
.urlbarView-row-inner {
	min-height: 0 !important;
}

.urlbarView-row-inner,
.urlbarView-row {
	padding: 0 !important;
}

.urlbarView-row-inner {
	padding-inline: 10px !important;
	padding-block: 2px !important;
}

.urlbarView-favicon {
	width: 12px !important;
	height: 12px !important;
}

.urlbarView-action,
.urlbarView-url {
	visibility: visible !important;
	margin: 0 !important;
	padding-inline: 0 !important;
	color: inherit !important;
	opacity: 0.6 !important;
}

.urlbarView-results {
	padding-block: 0 !important;
}

.urlbarView-results[wrap] > .urlbarView-row > .urlbarView-row-inner > .urlbarView-no-wrap {
	flex-basis: 0 !important;
}

.urlbarView-row:not([type="tip"], [type="dynamic"])[selected] > .urlbarView-row-inner,
.urlbarView-row-inner[selected] {
	color: inherit !important;
}

.urlbarView-dynamic-onboardTabToSearch-title-separator,
.urlbarView-dynamic-onboardTabToSearch-action {
	flex-basis: 0 !important;
}

.urlbarView-body-outer {
	--item-padding-start: 0 !important;
	--item-padding-end: 0 !important;
	max-height: 40vh !important;
	overflow-x: hidden;
	padding: 0 !important;
}

.urlbarView-row[label] {
	margin-block-start: 2.5em !important;
}

.urlbarView-row[label]::before {
	top: -2.5em !important;
	width: calc(100% - 18px) !important;
	padding-block-start: 6px !important;
	margin-inline: 9px !important;
	color: var(--macos-menu-separator-color) !important;
	font-weight: 700 !important;
	border-top: 1px solid var(--macos-menu-separator-color) !important;
}

.urlbarView-row,
.urlbarView-row[selected] {
	background-color: transparent !important;
}

.urlbarView-row[selected] {
	color: inherit !important;
}

.urlbarView-row:not([type="tip"], [type="dynamic"])[selected] > .urlbarView-row-inner,
.urlbarView-row-inner[selected] {
	background-color: var(--macos-menu-button-hover-background) !important;
}

.urlbarView-row:not([type="tip"], [type="dynamic"], [has-buttons]):hover > .urlbarView-row-inner,
.urlbarView-row[dynamicType="onboardTabToSearch"]:hover > .urlbarView-row-inner,
.urlbarView-row[has-buttons] > .urlbarView-row-inner:not([selected]):hover {
	background-color: var(--macos-menu-item-hover) !important;
	color: var(--macos-menu-item-hover-color) !important;
}

.urlbarView-title-separator::before {
	opacity: 0.6 !important;
	margin-inline-end: 0 !important;
}

.urlbarView-row[dynamicType="onboardTabToSearch"] > .urlbarView-row-inner {
	width: auto !important;
}

.urlbarView-title strong {
	font-weight: inherit !important;
}

.urlbarView-body-inner {
	border: 0 !important;
}

.urlbarView-row-inner,
.urlbarView-no-wrap {
	align-items: center !important;
}

.urlbarView-row-inner {
	border-radius: 4px !important;
}

.urlbarView-results[wrap] > .urlbarView-row > .urlbarView-row-inner {
	flex-wrap: nowrap !important;
}

.urlbarView-type-icon {
	display: none !important;
}

.urlbarView-row:is([type="switchtab"], [type="remotetab"])
	> .urlbarView-row-inner
	> .urlbarView-no-wrap
	> .urlbarView-action {
	padding: 1px 8px !important;
	margin-inline: 0.5em !important;
	border-radius: 8px !important;
	border: var(--macos-menu-border) !important;
	background-color: transparent !important;
}

:root:not([uidensity="compact"]) .urlbarView-row:not([type="tip"], [type="dynamic"]) {
	min-height: 0;
}

.urlbarView-title-separator {
	margin-inline-end: 0.5rem !important;
}

.urlbarView-title-separator,
.urlbarView-url {
	visibility: visible !important;
}

.urlbarView-title-separator,
.urlbarView-action {
	display: inherit !important;
}

/* Search engines buttons */

.search-one-offs {
	display: none !important;
	padding: 4px 0 0 0 !important;
}

/* Hide "..." button in entries under "recent search" */
.urlbarView-button.urlbarView-button-menu {
	display: none !important;
}

.urlbarView:not([noresults]) > .search-one-offs:not([hidden]) {
	border-top-color: var(--macos-menu-separator-color);
}

#urlbar .search-one-offs:not([hidden]) {
	align-items: center !important;
}

#urlbar .searchbar-engine-one-off-item {
	min-width: 30px;
	height: 20px;
}

.searchbar-engine-one-off-item {
	appearance: none;
	-moz-appearance: none !important;
	--toolbarbutton-active-background: transparent !important;
	--toolbarbutton-hover-background: transparent !important;
	background: var(--macos-button-background) !important;
	box-shadow: var(--macos-button-box-shadow) !important;
	border: 1px solid var(--macos-button-border-color) !important;
	border-left-width: 0 !important;
	border-bottom-color: var(--macos-button-border-accent-color) !important;
	padding: 0 2px !important;
	margin: 0 !important;
}

.searchbar-engine-one-off-item:hover,
.searchbar-engine-one-off-item[selected] {
	background: var(--macos-button-hover-background) !important;
	color: unset !important;
}

.searchbar-engine-one-off-item:first-child {
	border-radius: 5px 0 0 5px;
	border-left-width: 1px !important;
}

.searchbar-engine-one-off-item.last-engine,
.searchbar-engine-one-off-item:last-child {
	border-radius: 0 5px 5px 0;
}

#urlbar-anon-search-settings-compact {
	border-left-width: 1px !important;
	border-bottom: 1px solid var(--macos-button-border-accent-color) !important;
	border-radius: 5px;
	margin-left: 6px !important;
}

/* URL bar and Search bar */

#urlbar[focused] .urlbar-textbox-container {
	margin: -1px !important;
}

#searchbar > .searchbar-textbox[focused] .searchbar-search-button {
	margin-left: -1px !important;
}

#searchbar > .searchbar-textbox[focused] .search-go-button {
	margin-right: -1px !important;
}

/* URL bar and Search bar's icons */

.urlbar-icon:hover,
.urlbar-icon-wrapper:hover,
.urlbar-icon[open],
.urlbar-icon-wrapper[open],
.urlbar-icon:hover:active,
.urlbar-icon-wrapper:hover:active,
.searchbar-search-button:hover .searchbar-search-icon,
.searchbar-search-button[open] .searchbar-search-icon,
.searchbar-search-button:hover:active .searchbar-search-icon {
	background-color: transparent !important;
	fill-opacity: 1 !important;
}

.urlbar-icon {
	height: 16px !important;
	width: 16px !important;
	margin: auto !important;
}

/* Fix for firefox v92 onwards that changed icon size on MacOS */

.urlbar-page-action {
	padding: inherit !important;
}


/* Venqul Urlbar extra refinement */
#identity-permission-box > #blocked-permissions-container,
#identity-icon-box > #identity-icon-label {
	display: none;
}

#page-action-buttons {
    display: flex !important; /* make sure it’s flex */
}

#star-button-box {
    order: -1 !important; /* moves it to the start */
}

#tracking-protection-icon {
  list-style-image: none !important; /* remove any fallback */
  -moz-image-region: auto !important; /* ensure full image shows */
  content: url("../icons/Protections-icon.svg") !important;
  width: 16px !important;  /* adjust size */
  height: 16px !important;
}


/* Initial state: hidden */
/* When it's "Add Bookmark" */
/* Add Bookmark star button — only when URL bar is not focused */
#urlbar:not([focused]) #star-button-box {
    order: -1 !important;
    opacity: 0 !important;
    margin-inline-end: 0;
    transition: opacity 0.35s cubic-bezier(0.4, 0, 0.2, 1), margin-inline-end 0.35s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* Fade in slightly on URL bar hover */
#urlbar:not([focused]):hover #star-button-box:not(:hover) {
    opacity: 0.6 !important;
}

/* Fully visible when hovered or open */
#urlbar:not([focused]) #star-button-box[open],
#urlbar:not([focused]) #star-button-box:hover {
    opacity: 1 !important;
}

/* Edit Bookmark star button — only when URL bar is not focused */
#urlbar:not([focused]) #star-button-box {
    opacity: 0 !important;
    transition: opacity 0.35s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Hide both stars completely when URL bar is focused */
#urlbar[focused] #star-button-box[data-l10n-id="urlbar-star-add-bookmark"],
#urlbar[focused] #star-button-box[data-l10n-id="urlbar-star-edit-bookmark"] {
    display: none !important;
}


/* Real URL text: smooth crossfade using opacity */
#urlbar #urlbar-input {
    color: var(--toolbar-color) !important;
    opacity: 1;
}

/* When overlay active, fade out the URL text smoothly */
/* Only fade out URL input when hovering Add Bookmark in supported languages */
#urlbar:has(#star-button-box:hover):lang(en) #urlbar-input,
#urlbar:has(#star-button-box:hover):lang(fr) #urlbar-input,
#urlbar:has(#star-button-box:hover):lang(de) #urlbar-input,
#urlbar:has(#star-button-box:hover):lang(es) #urlbar-input,
#urlbar:has(#star-button-box:hover):lang(it) #urlbar-input,
#urlbar:has(#star-button-box:hover):lang(pt) #urlbar-input,
#urlbar:has(#star-button-box:hover):lang(nl) #urlbar-input,
#urlbar:has(#star-button-box:hover):lang(pl) #urlbar-input,
#urlbar:has(#star-button-box:hover):lang(ru) #urlbar-input,
#urlbar:has(#star-button-box:hover):lang(ja) #urlbar-input,
#urlbar:has(#star-button-box:hover):lang(zh) #urlbar-input,
#urlbar:has(#star-button-box:hover):lang(ar) #urlbar-input,
#urlbar:has(#star-button-box:hover):lang(tr) #urlbar-input,
#urlbar:has(#star-button-box:hover):lang(ko) #urlbar-input,
#urlbar:has(#star-button-box:hover):lang(he) #urlbar-input,
#urlbar:has(#star-button-box:hover):lang(sv) #urlbar-input,
#urlbar:has(#star-button-box:hover):lang(da) #urlbar-input,
#urlbar:has(#star-button-box:hover):lang(no) #urlbar-input,
#urlbar:has(#star-button-box:hover):lang(fi) #urlbar-input,
#urlbar:has(#star-button-box:hover):lang(id) #urlbar-input {
    opacity: 0;
    transition: opacity 0.35s cubic-bezier(0.4, 0, 0.2, 1) !important;
}


/* Overlay pseudo-element */
#urlbar .urlbar-input-container::before {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    padding-inline: 8px;
    font: inherit;
    color: var(--toolbar-color) !important;
    background: var(--urlbar-background) !important;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.35s cubic-bezier(0.4, 0, 0.2, 1); /* smooth fade */
    z-index: 2;
}
/* Overlay for Bookmark text in different languages */
#urlbar:has(#star-button-box:hover) .urlbar-input-container::before {
    opacity: 1;
}


#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-add-bookmark"]):lang(en)  .urlbar-input-container::before { content: "Add Bookmark"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-add-bookmark"]):lang(fr)  .urlbar-input-container::before { content: "Ajouter un marque-page"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-add-bookmark"]):lang(de)  .urlbar-input-container::before { content: "Lesezeichen hinzufügen"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-add-bookmark"]):lang(es)  .urlbar-input-container::before { content: "Agregar marcador"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-add-bookmark"]):lang(it)  .urlbar-input-container::before { content: "Aggiungi segnalibro"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-add-bookmark"]):lang(pt)  .urlbar-input-container::before { content: "Adicionar favorito"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-add-bookmark"]):lang(nl)  .urlbar-input-container::before { content: "Bladwijzer toevoegen"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-add-bookmark"]):lang(pl)  .urlbar-input-container::before { content: "Dodaj zakładkę"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-add-bookmark"]):lang(ru)  .urlbar-input-container::before { content: "Добавить закладку"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-add-bookmark"]):lang(ja)  .urlbar-input-container::before { content: "ブックマークに追加"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-add-bookmark"]):lang(zh)  .urlbar-input-container::before { content: "添加书签"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-add-bookmark"]):lang(ar)  .urlbar-input-container::before { content: "إضافة إلى المفضلة"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-add-bookmark"]):lang(tr)  .urlbar-input-container::before { content: "Yer imi ekle"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-add-bookmark"]):lang(ko)  .urlbar-input-container::before { content: "북마크 추가"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-add-bookmark"]):lang(he)  .urlbar-input-container::before { content: "הוסף למועדפים"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-add-bookmark"]):lang(sv)  .urlbar-input-container::before { content: "Lägg till bokmärke"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-add-bookmark"]):lang(da)  .urlbar-input-container::before { content: "Tilføj bogmærke"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-add-bookmark"]):lang(no)  .urlbar-input-container::before { content: "Legg til bokmerke"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-add-bookmark"]):lang(fi)  .urlbar-input-container::before { content: "Lisää kirjanmerkki"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-add-bookmark"]):lang(id)  .urlbar-input-container::before { content: "Tambahkan ke bookmark"; }


/* Overlay text for Edit Bookmark in different languages */
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-edit-bookmark"]):lang(en)  .urlbar-input-container::before { content: "Edit Bookmark"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-edit-bookmark"]):lang(fr)  .urlbar-input-container::before { content: "Modifier le marque-page"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-edit-bookmark"]):lang(de)  .urlbar-input-container::before { content: "Lesezeichen bearbeiten"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-edit-bookmark"]):lang(es)  .urlbar-input-container::before { content: "Editar marcador"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-edit-bookmark"]):lang(it)  .urlbar-input-container::before { content: "Modifica segnalibro"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-edit-bookmark"]):lang(pt)  .urlbar-input-container::before { content: "Editar favorito"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-edit-bookmark"]):lang(nl)  .urlbar-input-container::before { content: "Bladwijzer bewerken"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-edit-bookmark"]):lang(pl)  .urlbar-input-container::before { content: "Edytuj zakładkę"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-edit-bookmark"]):lang(ru)  .urlbar-input-container::before { content: "Редактировать закладку"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-edit-bookmark"]):lang(ja)  .urlbar-input-container::before { content: "ブックマークを編集"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-edit-bookmark"]):lang(zh)  .urlbar-input-container::before { content: "编辑书签"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-edit-bookmark"]):lang(ar)  .urlbar-input-container::before { content: "تعديل المفضلة"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-edit-bookmark"]):lang(tr)  .urlbar-input-container::before { content: "Yer imi düzenle"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-edit-bookmark"]):lang(ko)  .urlbar-input-container::before { content: "북마크 편집"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-edit-bookmark"]):lang(he)  .urlbar-input-container::before { content: "ערוך למועדפים"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-edit-bookmark"]):lang(sv)  .urlbar-input-container::before { content: "Redigera bokmärke"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-edit-bookmark"]):lang(da)  .urlbar-input-container::before { content: "Rediger bogmærke"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-edit-bookmark"]):lang(no)  .urlbar-input-container::before { content: "Rediger bokmerke"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-edit-bookmark"]):lang(fi)  .urlbar-input-container::before { content: "Muokkaa kirjanmerkkiä"; }
#urlbar:has(#star-button-box[data-l10n-id="urlbar-star-edit-bookmark"]):lang(id)  .urlbar-input-container::before { content: "Edit bookmark"; }














